<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>배송조회</title>
<link rel="stylesheet" href="../../../css/user/userCommon.css"/>

 <!-- 아이콘(CDN) -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer" />
<style>
* {
	box-sizing: border-box
}

.form {
	background: #f0f4f9;
	border: 1px solid #cccccc;
	border-radius: 8px;
	padding: 4px 0;
	padding-bottom: 0;
	margin-bottom: 3%;
	margin-right: 5%;
	margin-left: 7%;
}

body {

	background: #f7f8f9;
}

.title {
	text-align: center;
	font-weight: bold;
	font-size: 22px;
	margin-right: 5%;
	margin-left: 3%;
}

.delivery-num {
	color: black;
	font-size: 20px;
	border: 1px solid #ccc;
	border-left: none;
	border-right: none;
	border-top: none;
	font-weight: bold;
	padding-left: 2%;
	padding-right: 2%;
}

.order-box {
	padding: 10px;
	padding-bottom: 2%;
	padding-left: 2%;
	padding-right: 2%;
	background: #ffffff;
}

.order-body {
	display: flex;
	align-items: center;
	justify-content: space-between;
}

.order-image {
	width: 130px;
	height: 130px;
	background-color: #ccc;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 15px;
	margin-top: 1%;
	border-radius: 6px;
}

.order-info {
	flex: 1;
}

.order-info p {
	margin: 3px 0;
}

.order-info .price {
	color: #8ad8f0;
	font-weight: bold;
}

.order-info .name {
	color: gray;
}



.consumer-inform {
	font-weight: bold;
	font-size: 18px;
	color: gray;
	border: 1px solid #ccc;
	border-left: none;
	border-right: none;
	font-weight: bold;
	border-bottom: none;
	padding-left: 2%;
	padding-right: 2%;
	border-radius: 0 0 8px 8px;
	padding-top: 1%;
	padding-bottom: 0.6%;
}

.delivery-request {
	padding-bottom: 0.6%;
	border-radius: 8px;
}
</style>
</head>
<body>
<!-- 전역 헤더 (공통) -->
  <header class="site-header"><a href="index">It:View</a></header>

  <!-- 전역 사이드바 (공통) : 아이콘 구조로 교체 -->
  <nav class="sidenav" aria-label="Primary">
    <div class="sidenav-top">
      <a class="nav-item active" href="/my/myInfo"><i class="fa-solid fa-user"></i><span>마이페이지</span></a>
      <a class="nav-item" href="/experience/experienceApplication"><i class="fa-solid fa-gift"></i><span>체험단 신청</span></a>
      <a class="nav-item" href="/my/myReview"><i class="fa-solid fa-star"></i><span>리뷰</span></a>
      <a class="nav-item" href="/Shopping/cart"><i class="fa-solid fa-cart-shopping"></i><span>장바구니</span></a>
      <a class="nav-item" href="/Shopping/WishList"><i class="fa-solid fa-heart"></i><span>찜</span></a>
      <a class="nav-item"><i class="fa-solid fa-right-from-bracket"></i><span>로그아웃</span></a>
    </div>
    </nav>
	<p class="title">배송조회</p>
	<form class="form">
		<div class="delivery" th:each="o:${olist}">
			<div class="delivery-num">
				<p class="delivery-status">
					송장번호 | 
					<span th:switch="${o.deliveryStatus}">
						<span th:case="'before'">아직 배송이 시작되지 않았습니다.</span>
						<span th:case="'shipping'">[[${o.deliveryNo}]]</span>
						<span th:case="'after'">배송이 완료되었습니다.</span>
					</span>
				</p>
			</div>

			<div class="order-box">
				<div class="order-body">
					<div class="order-image">
						<img th:each="a:${alist}" th:if="${a.positionNo==o.productNo}"
							th:src="@{/uploadFilesFinal/{file}(file=${a.attmRename})}"
							width="100%" height="100%" style="border-radius: 8px;" />
					</div>
					<div class="order-info">
						<p class="price" th:text="${#numbers.formatInteger(o.productPrice,3,'COMMA')}+'원'"></p>
						<p class="name">[[${o.productName}]]</p>
					</div>
				</div>
			</div>
		</div>

		<div class="consumer-inform" style="background: #ffffff;" th:each="o:${olist}">
			<div class="name">
				<p>수령인 / [[${o.userName}]]</p>
			</div>
			<div class="address">
				<p>주소 / [[${o.userAddress}]]</p>
			</div>
			<div class="phone">
				<p>전화번호 / [[${o.userPhone}]]</p>
			</div>

		</div>
	</form>
</body>
</html>