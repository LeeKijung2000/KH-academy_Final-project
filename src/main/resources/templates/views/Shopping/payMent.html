<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>주문/결제</title>
  <!-- 공통 레이아웃 CSS -->
<link rel="stylesheet" th:href="@{/css/user/userCommon.css}" />
  <!-- 아이콘 CDN (v6) -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

 <style>
  /* 레이아웃 기본 */
  body { background:#f7f8f9; font-family:Pretendard, sans-serif; margin:0; }
  main { padding:20px; margin:0 80px 40px 220px; } /* 왼쪽=사이드바, 오른쪽 여백 80 */

  /* 상단 */
  .page-topbar{ display:flex; align-items:center; gap:12px; margin:10px 4px 18px; }
  .page-title{ font-size:22px; font-weight:700; margin:0; }

  /* 카드 */
  .card{
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:16px;
    box-shadow:0 1px 3px rgba(0,0,0,.08);
    padding:20px;
    margin-bottom:20px;
  }
  .section-title{ margin:0 0 12px; font-size:18px; font-weight:700; }

  /* 폼: 라벨 120px + 입력영역 최대 720px */
  .form-grid{
    display:grid;
    grid-template-columns: 120px minmax(0, 720px);
    gap:12px;
    align-items:center;

    /* ✅ 그리드 트랙(라벨+입력) 자체를 카드 안에서 가로 가운데 정렬 */
    justify-content: center;
  }
  /* 라벨 없이 한 블럭을 “입력 컬럼(2열)”에 놓을 때 */
  .form-grid .full{ grid-column: 2 / 3; }

  /* 입력 요소 공통 */
  .input, .select{ width:100%; padding:10px; border:1px solid #ccc; border-radius:8px; font-size:14px; }

  /* 우편번호 + 버튼 줄 */
  .addr-row{ display:flex; gap:8px; align-items:center; width:100%; }
  .addr-row .input{ flex:1 1 auto; } /* 입력칸이 가급적 넓게 */
  .pill-btn{
    border:1px solid var(--primary,#34e5eb);
    padding:11px 30px;
    border-radius:999px;
    background:#f0fdfd;
    font-weight:700;
    cursor:pointer;
  }

  .radio-row{ display:flex; gap:20px; margin:8px 0; }
  .divider{ height:1px; background:#e5e7eb; margin:16px 0; }

  /* 주문상품 리스트 */
  .order-items .item{ display:flex; align-items:center; gap:12px; margin-bottom:10px; }
  .order-items .thumb img{ width:80px; height:80px; border-radius:8px; border:1px solid #ddd; }
  .item-meta{ flex:1; font-size:14px; color:#444; }
  .item-meta .sub{ color:#666; font-size:13px; }
  .price{ font-weight:700; color:#111; }

  /* 요약 */
  .summary .row{ display:flex; justify-content:space-between; margin:6px 0; font-size:15px; }
  .summary .total{ color:#34a7a7; }

  /* 결제수단 */
  .pay-methods{ display:grid; gap:8px; }
  .method{
    display:flex; justify-content:space-between; align-items:center;
    border:1px solid #ddd; padding:10px; border-radius:8px; background:#fafafa;
  }
  .method input{ margin-right:6px; }
  .pay-options .select{ margin-right:8px; }

  /* 약관 */
  .terms{ display:flex; flex-direction:column; gap:6px; font-size:14px; }
  .term input{ margin-right:6px; }

  /* ✅ 하단 결제바: sticky 해제(스크롤에 따라 함께 올라감) */
  .paybar{
    position: static;   /* ← 고정 해제 */
    bottom:auto; left:auto; right:auto;
    display:flex; justify-content:space-between; align-items:center;
    padding:16px; border-top:1px solid #ddd; background:#fff; z-index:10;
    margin-top:16px;
  }
  .pay-total{ font-weight:700; }

  /* 버튼 */
  .primary{
    background:#34e5eb; color:#fff; font-weight:700;
    border:none; padding:12px 24px; border-radius:14px; cursor:pointer;
    transition:transform .06s ease, background .12s ease;
  }
  .primary:hover{ transform:translateY(-1px); background:#12c7bd; }
  .primary:active{ transform:translateY(0); background:#0da5a0; }

  .hide{ display:none; }

  /* 반응형: 좁은 화면에서 한 컬럼 (모바일은 가득 차게) */
  @media (max-width: 768px){
    .form-grid{ grid-template-columns: 1fr; justify-content: stretch; }
    .form-grid .full{ grid-column: 1 / -1; }
  }
  /* 주소검색 줄: 한 줄 정렬 + 버튼 줄바꿈 방지 */
.form-grid .addr-row{
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: nowrap;   /* 줄바꿈 금지 */
}

/* 주소 입력칸이 100%를 차지하지 않도록 덮어쓰기 */
.form-grid .addr-row .input{
  width: auto;         /* ← 여기서 100% 무효화 */
  flex: 1 1 0;         /* 남는 공간을 입력칸이 가져가게 */
  min-width: 0;        /* 오버플로 방지 */
}

/* 버튼은 내용 그대로 한 줄, 높이 맞춤 */
.form-grid .addr-row .pill-btn{
  flex: 0 0 auto;
  white-space: nowrap;                  /* '주소검색' 줄바꿈 방지 */
  height: 42px;                         /* 입력칸 높이에 맞춤(필요 시 조절) */
  padding: 0 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
}
  
</style>
 
 
  
</head>
<body>
  <!-- 전역 헤더 (공통 자리) -->
  <div th:replace="~{common/myHeader}"></div>

 

  <main>
    <!-- 상단 타이틀바 -->
    <div class="page-topbar">
      <h1 class="page-title">주문/결제</h1>
    </div>

    <!-- 주문자 정보 -->
    <section class="card">
      <h2 class="section-title">주문 정보</h2>
      <div class="form-grid">
        <label>주문자</label>
        <input class="input" type="text" value="홍길동" required>

        <label>이메일</label>
        <input class="input" type="email" value="gildong@example.com" required>

        <label>일반전화</label>
        <div class="addr-row"><input class="input" type="text" placeholder="02-000-0000"></div>

        <label>휴대전화</label>
        <div class="addr-row"><input class="input" type="text" value="010-1234-5678" required></div>

        <label>주소</label>
        <div class="full">
          <div class="addr-row">
            <input class="input" type="text" placeholder="우편번호" value="06236">
            <button type="button" class="pill-btn">주소검색</button>
          </div>
          <div style="height:8px"></div>
          <input class="input" type="text" placeholder="기본주소" value="서울 강남구 테헤란로 123">
          <div style="height:8px"></div>
          <input class="input" type="text" placeholder="나머지 주소" value="XX빌딩 10층">
        </div>
      </div>
    </section>

    <!-- 배송지 -->
    <section class="card">
      <h2 class="section-title">배송지</h2>
      <div class="radio-row">
        <label><input type="radio" name="shipSame" value="same" checked> 주문자 정보와 동일</label>
        <label><input type="radio" name="shipSame" value="new"> 새로운 배송지</label>
      </div>
      <div class="divider"></div>
      <div id="shipForm" class="form-grid">
        <label>받는사람</label>
        <input class="input" type="text" value="홍길동" required>

        <label>주소</label>
        <div class="full">
          <div class="addr-row">
            <input class="input" type="text" placeholder="우편번호" value="06236">
            <button type="button" class="pill-btn">주소검색</button>
          </div>
          <div style="height:8px"></div>
          <input class="input" type="text" placeholder="기본주소" value="서울 강남구 테헤란로 123">
          <div style="height:8px"></div>
          <input class="input" type="text" placeholder="나머지 주소" value="XX빌딩 10층">
        </div>

        

        <label>휴대전화</label>
        <input class="input" type="text" placeholder="010-0000-0000" value="010-1234-5678" required>

        <div class="full">
          <select class="select">
            <option>-- 메시지 선택 (선택사항) --</option>
            <option>부재 시 문 앞에 놓아주세요</option>
            <option>경비실에 맡겨주세요</option>
            <option>배송 전 연락 부탁드립니다</option>
          </select>
        </div>
      </div>
    </section>

    <!-- 주문상품 & 결제요약 -->
    <section class="card">
      <h2 class="section-title">주문상품</h2>
      <div class="order-items">
        <div class="item">
          <div class="thumb"><img src="https://via.placeholder.com/120" alt=""></div>
          <div class="item-meta">
            <div>[999세일] 허브 스네일 기초세트</div>
            <div class="sub">[옵션] 기본</div>
            <div class="sub">수량: 1개</div>
          </div>
          <div class="price">21,999원</div>
        </div>
      </div>
      <div class="divider"></div>
      <div class="summary">
        <div class="row"><span>주문상품</span><span>21,999원</span></div>
        <div class="row"><span>배송비</span><span>3,000원</span></div>
        <div class="row"><strong>최종 결제 금액</strong><strong class="total" id="finalTotal">24,999원</strong></div>
      </div>
    </section>

    <!-- 결제수단 -->
    <section class="card">
      <h2 class="section-title">결제수단</h2>
      <div class="pay-methods">
        <label class="method"><span><input type="radio" name="payMethod" value="CARD" checked> 카드 결제</span><span class="sub">빠른 승인</span></label>
        <label class="method"><span><input type="radio" name="payMethod" value="ESCROW"> 에스크로(실시간 계좌이체)</span></label>
        <label class="method"><span><input type="radio" name="payMethod" value="MOBILE"> 휴대폰 결제</span></label>
        <label class="method"><span><input type="radio" name="payMethod" value="VBANK"> 무통장 입금</span></label>
        <label class="method"><span><input type="radio" name="payMethod" value="KAKAOPAY"> 카카오페이(간편결제)</span></label>
        <label class="method"><span><input type="radio" name="payMethod" value="PAYCO"> 페이코(간편결제)</span></label>
      </div>
      <div id="cardOptions" class="pay-options" style="margin-top:10px">
        <select class="select"><option>카드선택</option><option>국민카드</option><option>신한카드</option><option>현대카드</option></select>
        <select class="select"><option>할부기간: 일시불</option><option>2개월</option><option>3개월</option><option>6개월</option></select>
      </div>
      <div id="otherOptions" class="hide" style="margin-top:10px">
        <div class="sub">선택하신 결제수단에 따라 추가 정보가 여기 노출됩니다.</div>
      </div>
    </section>

    <!-- 약관동의 -->
    <section class="card">
      <h2 class="section-title">약관 동의</h2>
      <div class="terms">
        <label class="term all"><input type="checkbox" id="agreeAll"> 모든 약관 동의</label>
        <label class="term"><input type="checkbox" class="agree"> [필수] 결제대행서비스 약관 동의</label>
        <label class="term"><input type="checkbox" class="agree"> [필수] 쇼핑몰 이용약관 동의</label>
        <label class="term"><input type="checkbox" class="agree"> [필수] 개인정보 수집 및 이용 동의</label>
      </div>
    </section>

    <!-- 하단 고정 결제바 -->
    <div class="paybar card">
      <div class="pay-total">최종 결제 금액 <span id="paybarTotal">24,999원</span></div>
      <button class="primary" id="btnPay" type="button">결제하기</button>
    </div>
  </main>

  <script>
    const cardOptions=document.getElementById('cardOptions');
    const otherOptions=document.getElementById('otherOptions');
    document.querySelectorAll('input[name="payMethod"]').forEach(r=>{
      r.addEventListener('change',()=>{
        const v=document.querySelector('input[name="payMethod"]:checked').value;
        cardOptions.classList.toggle('hide', v!=="CARD");
        otherOptions.classList.toggle('hide', v==="CARD");
      });
    });
    document.getElementById('agreeAll').addEventListener('change', e=>{
      document.querySelectorAll('.agree').forEach(c=> c.checked=e.target.checked);
    });
    const finalTotal=document.getElementById('finalTotal');
    const paybarTotal=document.getElementById('paybarTotal');
    if(finalTotal&&paybarTotal) paybarTotal.textContent=finalTotal.textContent;
    document.getElementById('btnPay').addEventListener('click',()=>{alert('양서연 테스트입니당');});
  </script>
</body>
</html>
