<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>상품 문의</title>

  <!-- 공통 레이아웃 CSS -->
  <link rel="stylesheet" th:href="@{/css/user/userCommon.css}" />
  <!-- 페이지 전용 CSS -->
  <link rel="stylesheet" th:href="@{/css/user/myProductInquiry.css}" />
</head>
<body>

  <!-- 공통 헤더/사이드바 -->
  <div th:replace="~{common/myHeader}"></div>
  <div th:replace="~{common/mySidebar}"></div>

  <main class="page">
    <!-- 상단 타이틀바 -->
    <div class="page-topbar">
      <button class="icon-btn back" aria-label="뒤로" onclick="history.back()">←</button>
      <h1 class="page-title">상품 문의</h1>
      <span class="spacer"></span>
    </div>

    <!-- 선택된 상품 번호 안내(없으면 전송 비활성화) -->
    <section class="card" th:if="${productNo != null}">
      <div style="font-size:14px;color:#555">
        대상 상품번호: <b th:text="${productNo}">-</b>
      </div>
    </section>
    <section class="card" th:if="${productNo == null}">
      <div style="font-size:14px;color:#b91c1c">
        상품 상세 페이지에서 “문의하기”로 진입해주세요. (상품번호가 없습니다)
      </div>
    </section>

    <!-- 문의 폼 -->
    <form class="form" th:action="@{/my/product-question}" method="post" autocomplete="off">
      <!-- 필수 전달값 -->
      <input type="hidden" name="productNo" th:value="${productNo}" />
      <!-- CSRF -->
      <input type="hidden" th:if="${_csrf != null}"
             th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

      <!-- 제목 -->
      <h2 class="sec-title">문의 제목</h2>
      <div class="field">
        <input type="text" class="input" name="questionTitle"
               placeholder="50자 미만으로 입력해주세요" maxlength="50" required />
      </div>

      <!-- 내용 -->
      <h2 class="sec-title">문의 내용</h2>
      <div class="field">
        <textarea class="textarea" name="questionContent" rows="6" required
                  placeholder="개인정보(이름, 연락처 등)가 포함되지 않도록 작성해주세요"></textarea>
      </div>

      <!-- 전송 -->
      <div class="submit-bar">
        <button type="submit" class="submit" th:disabled="${productNo == null}">
          판매자에게 전송하기
        </button>
      </div>
    </form>
  </main>

</body>
</html>
