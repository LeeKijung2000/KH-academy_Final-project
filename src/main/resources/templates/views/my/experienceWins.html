<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>체험단 당첨내역</title>

  <!-- 공통 레이아웃 CSS -->
  <link rel="stylesheet" th:href="@{/css/user/userCommon.css}"/>

  <!-- 페이지 전용 CSS -->
  <link rel="stylesheet"
      th:href="@{/css/user/ExperienceWins.css(v=${#dates.createNow().time})}" />
  

	
  <!-- 아이콘 -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">
</head>
<body>

  <!-- 공통 헤더/사이드바 -->
  <div th:replace="~{common/myHeader}"></div>
  <div th:replace="~{common/mySidebar}"></div>

  <main class="page">
    <!-- 상단 타이틀바 -->
    <div class="page-topbar">
      <h1 class="page-title">체험단 당첨내역</h1>
    </div>

    <!-- 비어있을 때 -->
    <section class="card" th:if="${#lists.isEmpty(winList)}">
      <p class="muted" style="margin:0">당첨 내역이 없습니다.</p>
    </section>

    <!-- 당첨 리스트 (썸네일 / 제목 / 기간 / 상태) -->
	  <section class="card win-list" th:if="${!#lists.isEmpty(winList)}">
  <article class="win-item" th:each="w : ${winList}">
    <!-- 썸네일 -->
<!--     <img class="thumb" -->
<!--          th:src="${w['productImageUrl']}" -->
<!--          alt="체험단 썸네일" -->
<!--          onerror="this.onerror=null; this.src='/uploadFilesFinal/default-product.png';"/> -->
<img class="thumb thumb--hidden"
     th:src="${w['productImageUrl']}"
     alt="" onerror="this.onerror=null;this.src='/uploadFilesFinal/default-product.png';">


    <!-- 본문(제목/기간/내용/버튼) -->
    <div class="meta">
      <div class="pname"
           th:text="${w['expTitle'] != null && w['expTitle'] != '' ? w['expTitle'] : w['productName']}">
        모집글 제목
      </div>

      <div class="sub muted">
        <i class="fa-regular fa-calendar"></i>
        <span th:if="${w['expStart'] != null}"
              th:text="${#dates.format(w['expStart'], 'yyyy.MM.dd')}"></span>
        <span> ~ </span>
        <span th:if="${w['expEnd'] != null}"
              th:text="${#dates.format(w['expEnd'], 'yyyy.MM.dd')}"></span>
      </div>

      <div class="desc muted" th:if="${w['expContent'] != null}"
           th:text="${w['expContent']}">모집글 내용 요약</div>

      
    </div>

    <!-- ▶ 오른쪽 독립 상태 블록 -->
   
	    <aside class="status-col">
	  <span class="badge"
	        th:classappend="${
	          w['winStatusCode'] == 'Y' ? ' badge--primary' :
	          (w['winStatusCode'] == 'R' ? ' badge--reject' : ' badge--pending')
	        }"
	        th:text="${w['winStatusName']}">선정대기</span>
</aside>
    
  </article>
</section>
	  
    
  </main>
</body>
</html>
