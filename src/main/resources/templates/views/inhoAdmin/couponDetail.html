<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>쿠폰 상세</title>
        <!-- CSS 파일 -->
	    <link href="/css/inhoCss/commonDetail.css" rel="stylesheet" />
	    <link href="/css/inhoCss/sidebar.css" rel="stylesheet" type="text/css" />
	    <link href="/css/inhoCss/header.css" rel="stylesheet" type="text/css"/>
	
	    <!-- 아이콘 & 폰트 -->
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
	    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Poppins:wght@400;500&display=swap" rel="stylesheet" />
    </head>
    <body>
        <div class="container">
            <!-- sidebar 조각 삽입 -->
	        <div th:replace="~{common/sidebar :: sidebar}"></div>
	
	        <div class="content-area">
	            <!-- header 조각 삽입 -->
	            <div th:replace="~{common/header2 :: header2}"></div>
	            
                <div class="main-content">
                    <h2 class="page-title">쿠폰 상세 정보</h2>
                    <form id="detailForm" method="get" th:action="@{/inhoAdmin/updateCoupon}">
                    	<input type="hidden" name="couponNo" th:value="${c.couponNo}">
                    	<input type="hidden" name="page" th:value="${page}">
                    	<table class="detail-table">
                        <tr>
                            <th>쿠폰번호</th>
                            <td>[[${c.couponNo}]]</td>
                        </tr>
                        <tr>
                            <th>이름</th>
                            <td>[[${c.couponName}]]</td>
                        </tr>
                        <tr>
                            <th>상세설명</th>
                            <td>[[${c.couponDescription}]]</td>
                        </tr>
                        <tr>
                            <th>발급대상</th>
                            <td>[[${c.couponTarget}]]</td>
                        </tr>
                        <tr>
                            <th>할인율</th>
                            <td>[[${c.couponDiscount}]] %</td>
                        </tr>
                        <tr>
                            <th>최소사용금액</th>
                            <td>[[${c.couponMinprice}]] 원</td>
                        </tr>
                        <tr>
                            <th>쿠폰 등록일</th>
                            <td>[[${c.couponCreatedate}]]</td>
                        </tr>
                        <tr>
                            <th>사용 시작일</th>
                            <td>[[${c.couponStartdate}]]</td>
                        </tr>
                        <tr>
                            <th>사용 종료일</th>
                            <td>[[${c.couponEnddate}]]</td>
                        </tr>
                    </table>
                    <div class="form-actions">
                        <button class="btn-submit">수정</button>
                        <button type="button" id="deleteBtn" class="btn-reset">삭제</button>
                        <button type="button" class="btn-reset" onclick="history.back()">취소</button>
                    </div>
                    </form>
                </div>
            </div>
        </div>
		<script th:src="@{/js/inhoAdmin/sidebar.js}"></script>
		<script>
			window.onload = () => {
			    const delBtn = document.getElementById('deleteBtn');
			    const form = document.getElementById('detailForm');
	
			    if (delBtn) {
			        delBtn.addEventListener('click', () => {
			            if (confirm("정말 쿠폰을 삭제하시겠습니까?")) {
			            	form.method = "post";
			                form.action = '/inhoAdmin/deleteCoupon';
			                form.submit();
			            }
			        });
			    }
			}
		</script>
    </body>
</html>
